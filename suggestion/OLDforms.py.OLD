from django import forms
from models import Biotool, Datatype, Filetype, ToolFiletype

# Currently WORKING forms....
#class BiotoolForm(forms.ModelForm):
#
#	class Meta:
#		model = Biotool
#		fields = ('tool_name', 'child_of', 'depends_on', 'purpose', 'data_type', 'data_subtype', 'input_format', 'output_format')


class UserdatafileForm(forms.Form):

# OLD but WORKING fields that take user input...
#	DATATYPE_CHOICES = (('Nucleotide', 'Nucleotide'), ('Protein', 'Protein'))
#	user_datatype = forms.ChoiceField(label='Data type', choices=DATATYPE_CHOICES, widget=forms.Select)
#	user_datasubtype = forms.CharField(label='Specifically, what kind is it?', max_length=100, help_text='DNA, RNA-seq, etc...')
#	user_fileformat = forms.CharField(label='What format is the file?', max_length=50, help_text='FASTA, GFF, etc...')

	user_datatype = forms.ModelChoiceField(label='What kind of data do you have?', queryset=Datatype.objects.values_list('data_type', flat=True), empty_label=None)
	user_datasubtype = forms.ModelChoiceField(label="Let's be more specific...", queryset=Datatype.objects.values_list('data_subtype', flat=True), empty_label=None)
	user_fileformat = forms.ModelChoiceField(label='What is the file format?', queryset=Filetype.objects.values_list('filetype_name', flat=True), empty_label=None)


## Improved forms from the IMPROVED models...

class BiotoolForm(forms.ModelForm):
	class Meta:
		model = Biotool
		fields = ('tool_name', 'purpose')#, 'child_of', 'depends_on')

class DatatypeForm(forms.ModelForm):
	class Meta:
		model = Datatype
	#	fields = ('data_type', 'data_subtype')

class FiletypeForm(forms.ModelForm):
	class Meta:
		model = Filetype
	#	fields = ('filetype_name')

class ToolFiletypeForm(forms.ModelForm):
	class Meta:
		model = ToolFiletype
		fields = ('tool_relation', 'child_of', 'depends_on', 'required', 'io_type')

